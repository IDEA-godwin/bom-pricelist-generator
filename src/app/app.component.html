
 <!--The content below is only a placeholder and can be replaced.-->
 <div class="content">
    <h1 style="text-align:center">
      Welcome to {{title}}!
    </h1>
    <form
        class="row justify-content-center"
        [formGroup]="form" (submit)="previewSelection(preview)"
    >
        <div class="col-6 mt-4">
            <label class="mx-3" for="vendorList">Select Vendor: </label>
            <select id="vendorList" class="d-inline-block form-select w-75" formControlName="vendor">
                <option [defaultSelected]="true" disabled>Select a Vendor</option>
                <option
                    *ngFor="let vendor of vendorList"
                    [id]="vendor" [value]="vendor"
                >
                    {{ vendor }}
                </option>
            </select>
        </div>

        <div class="row justify-content-center" *ngIf="showList">
            <div class="col-7 mt-4 table-container">
                <table>
                    <thead>
                        <tr>
                            <td></td>
                            <td>Components</td>
                            <td>Price</td>
                            <td>Quantity</td>
                        </tr>
                    </thead>
                    <tbody formArrayName="items">
                        <tr
                            *ngFor="let itemsForm of items.controls; let i = index"
                            [id]="i" [formGroupName]="i"
                        >
                            <td> <input type="checkbox" formControlName="selected" (change)="selectItem(i)" /> </td>
                            <td> <input class="form-control" formControlName="component" /> </td>
                            <td> <input class="form-control" formControlName="price" /> </td>
                            <td> <input type="number" min="1" formControlName="quantity" /> </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="row mt-4 justify-content-center" *ngIf="showList">
            <input class="btn btn-outline-primary w-25" type="submit" value="Preview"  />
        </div>
    </form>
  </div>

  <ng-template #preview let-modal>
    <div class="modal-header">
		<h4 class="modal-title" id="modal-basic-title">Pricelist Preview</h4>
		<button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
	</div>
	<div class="modal-body">
        <h3> {{vendor}} </h3>
        <table class="w-100" *ngIf="selectedItems.length">
            <thead>
                <tr>
                    <td>S/N</td>
                    <td>Components</td>
                    <td>Quantity</td>
                    <td>Price</td>
                </tr>
            </thead>
            <tbody >
                <tr
                    *ngFor="let item of selectedItems; let i = index"
                    [id]="i"
                >
                    <td> {{ i + 1 }} </td>
                    <td> {{ item.component }} </td>
                    <td> {{ item.quantity }} </td>
                    <td class="price"> {{ item.price * item.quantity }} </td>
                </tr>
                <tr class="border-top">
                    <td></td>
                    <td></td>
                    <td>Total</td>
                    <td class="price"> {{ totalAmount }} </td>
                </tr>
            </tbody>
        </table>
        <div *ngIf="!selectedItems.length">No Item selected</div>
	</div>
	<div class="modal-footer">
        <button
            type="button" class="btn btn-outline-primary"
            (click)="modal.close('Edit click')"
        >
            Edit
        </button>
		<button
            type="button" class="btn btn-outline-dark"
            (click)="modal.close('Save click')"
        >
            Save
        </button>
	</div>
  </ng-template>